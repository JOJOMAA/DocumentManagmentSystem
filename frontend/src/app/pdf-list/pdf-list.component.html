<div class="card list-card">
  <h2>PDFs downloaden</h2>

  <div class="search-container" style="display: flex; gap: 10px; margin-bottom: 20px;">
    <input
      type="text"
      [(ngModel)]="searchQuery"
      (keyup.enter)="searchDocuments()"
      placeholder="Dokumente durchsuchen..."
      style="padding: 10px; flex: 1; border: 1px solid #ccc; border-radius: 4px;"
    >
    <button mat-raised-button color="primary" (click)="searchDocuments()">
      <mat-icon>search</mat-icon> Suchen
    </button>

    <button *ngIf="searchQuery" mat-icon-button color="warn" (click)="searchQuery=''; searchDocuments()">
      <mat-icon>close</mat-icon>
    </button>
  </div>

  <div class="pdf-list">
    <div *ngFor="let document of documentList" class="pdf-item-container">

      <div class="pdf-item" (click)="toggleSummary(document)">
        <div class="pdf-info">
          <mat-icon class="pdf-icon">description</mat-icon>
          <span class="pdf-name">{{ document.name }}</span>
        </div>

        <div class="pdf-actions">
          <button mat-button color="primary" (click)="downloadPdf(document.id); $event.stopPropagation()">
            <mat-icon>download</mat-icon> Download
          </button>
          <button mat-button color="warn" (click)="deleteDocument(document.id); $event.stopPropagation()">
            <mat-icon>delete</mat-icon> Delete
          </button>
        </div>
      </div>

      <div *ngIf="currentSelectedPdf === document.id" class="pdf-summary">
        <strong>Zusammenfassung:</strong>
        <p>{{ document.summary ? document.summary : 'Keine Zusammenfassung verf√ºgbar.' }}</p>
      </div>

    </div>

    <div *ngIf="documentList.length === 0" class="empty-state">
      <span class="sub-text">Keine Dokumente gefunden.</span>
    </div>
  </div>
</div>
